(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[107],{1090:function(e,a,t){e.exports=t.p+"static/media/telekom.cbf40d33.png"},1091:function(e,a,t){e.exports=t.p+"static/media/sygnet.dba7f081.svg"},1120:function(e,a,t){"use strict";t.r(a);var n=t(1003),r=t(92),o=t(93),i=t(166),l=t(165),s=t(2),c=t.n(s),u=t(171),p=t(1297),m=t(1294),d=t(1296),h=t(1092),f=t(1045),g=t(1042),v=t(1043),E=t(838),k=t(997),N=t(1044),b=t(1090),C=t.n(b),A=t(1091),P=t.n(A),T=t(432),S=t(1110),y=t(167),O=function(e){Object(i.a)(t,e);var a=Object(l.a)(t);function t(e){var n;return Object(r.a)(this,t),(n=a.call(this,e)).state={PendingApproval:[],PendingTask:[],openSnackBar:!1,userFullName:""},n}return Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetchUpAsync(),this.props.fetchPendingApproval();var a=localStorage.getItem("username").toUpperCase();localStorage.getItem("password");fetch("/api/DC_INBOX_LIST/?userid="+a).then((function(e){return e.json()})).then((function(a){a.map((function(t){if("INVENTORY"===t.TYPE){var n=Object.values(a).filter((function(e){return"INVENTORY"===e.TYPE}));e.setState({PendingApproval:n,openSnackBar:!0})}if("TASK"===t.TYPE){var r=Object.values(a).filter((function(e){return"TASK"===e.TYPE}));e.setState({PendingTask:r,openSnackBar:!0})}}))})),fetch("/api/DC_USER/?userid="+a).then((function(e){return e.json()})).then((function(a){a.user&&a.user.map((function(a){e.setState({userFullName:a.NAME})}))}))}},{key:"handleClose",value:function(e,a){"clickaway"!==a&&this.setState({openSnackBar:!1})}},{key:"render",value:function(){var e=this;console.log("props",this.props);var a=this.props,t=(a.children,Object(n.a)(a,["children"]),this.state.PendingTask?this.state.PendingTask.length:0),r=this.props.pendingApproval?this.props.pendingApproval.length:0;return c.a.createElement(c.a.Fragment,null,c.a.createElement(N.k,{className:"d-lg-none",display:"md",mobile:!0}),c.a.createElement(N.d,{full:{src:C.a,width:75,height:25,alt:"CoreUI Logo"},minimized:{src:P.a,width:30,height:30,alt:"CoreUI Logo"}}),c.a.createElement(N.k,{className:"d-md-down-none",display:"lg"}),c.a.createElement(p.a,{className:"d-md-down-none",navbar:!0},c.a.createElement(m.a,{className:"px-3"},c.a.createElement(u.NavLink,{to:"/main-menu",className:"nav-link"}," Main Menu"))),c.a.createElement(p.a,{className:"ml-auto",navbar:!0},c.a.createElement(m.a,{className:"d-md-down-none"},c.a.createElement(u.NavLink,{to:"#",className:"nav-link"},c.a.createElement("i",{className:"icon-bell"}),c.a.createElement(d.a,{pill:!0,color:"danger"},r))),c.a.createElement(h.a,{nav:!0,direction:"down"},c.a.createElement(f.a,{nav:!0},c.a.createElement("span",{id:T.a.authenticated.username.toUpperCase()},this.state.userFullName),c.a.createElement(S.a,{name:this.state.userFullName,value:this.state.userFullName?this.state.userFullName:"TM",color:S.a.getRandomColor("sitebase",["red","green","blue"]),size:"40",round:!0})),c.a.createElement(g.a,{right:!0},c.a.createElement(v.a,{header:!0,tag:"div",className:"text-center"},c.a.createElement("strong",null,"Account")),c.a.createElement(v.a,{action:!0,tag:"a",href:"#/taskList"},c.a.createElement("i",{className:"fa fa-tasks"})," Tasks",c.a.createElement(d.a,{color:"danger"},"0")),c.a.createElement(v.a,{action:!0,tag:"a",href:"#/pendingApproval"},c.a.createElement("i",{className:"fa fa-bell-o"}),"Pending Approval",c.a.createElement(d.a,{color:"warning"}," ",r)),c.a.createElement(v.a,{onClick:function(a){return e.props.onLogout(a)}},c.a.createElement("i",{className:"fa fa-lock"})," Logout")))),c.a.createElement(E.a,{style:{marginBottom:"50px"},open:this.state.openSnackBar,autoHideDuration:1500,onClose:this.handleClose.bind(this),anchorOrigin:{vertical:"bottom",horizontal:"right"}},c.a.createElement(k.a,{variant:"filled",onClose:this.handleClose.bind(this),severity:"info"},"You have ",r," Pending Approval.")),c.a.createElement(E.a,{open:this.state.openSnackBar,autoHideDuration:1500,onClose:this.handleClose.bind(this),anchorOrigin:{vertical:"bottom",horizontal:"right"}},c.a.createElement(k.a,{variant:"filled",onClose:this.handleClose.bind(this),severity:"info"},"You have ",t," Pending Task.")))}}]),t}(s.Component);O.defaultProps={};a.default=Object(y.b)((function(e){return{user:e.user,pendingApproval:e.pendingApproval}}),(function(e){return{fetchUpAsync:function(){return e({type:"FETCH_USER"})},fetchPendingApproval:function(){return e({type:"FETCH_PENDINGAPPROVAL"})}}}))(O)}}]);
//# sourceMappingURL=107.d5290cfe.chunk.js.map